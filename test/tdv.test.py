import re
from playwright.sync_api import Page, expect


def test_example(page: Page) -> None:
    page.goto("https://www.tradingview.com/")
    page.get_by_role("button", name="Open user menu").click()
    page.get_by_role("menuitem", name="Sign in").click()
    page.get_by_role("button", name="Email").click()
    page.get_by_role("textbox", name="Email or Username").click()
    page.get_by_role("textbox", name="Email or Username").fill("lzzrubjqfu874lzzrubjqfu874")
    page.get_by_role("textbox", name="Password").click()
    page.get_by_role("textbox", name="Password").fill("lzzrubjqfu874")
    page.get_by_role("button", name="Sign in").click()
    page.get_by_role("textbox", name="Password").click()
    page.get_by_role("textbox", name="Password").press("ControlOrMeta+z")
    page.get_by_role("textbox", name="Email or Username").click()
    page.get_by_role("textbox", name="Password").fill("")
    page.get_by_role("textbox", name="Email or Username").press("ControlOrMeta+z")
    page.get_by_role("textbox", name="Email or Username").fill("lzzrubjqfu874")
    page.get_by_role("textbox", name="Password").click()
    page.get_by_role("textbox", name="Password").fill("lzzrubjqfu874")
    page.get_by_role("button", name="Sign in").click()
    page.get_by_role("textbox", name="Code from your app or backup").fill("000871")
    with page.expect_popup() as page1_info:
        page.get_by_text("112,502.6").dblclick()
    page1 = page1_info.value
    page1.goto("https://www.tradingview.com/chart/i2bpAXf3/?symbol=OKX%3ABTCUSDT.P")
    page1.get_by_role("button", name="Decline offer").click()
    page1.get_by_role("button", name="eth-long-bot report").click()
    page1.locator("#bottom-area div").filter(has_text="eth-long-bot reporteth-long-bot reportSep 23, 2025 — Sep 23, 2025Sep 23, 2025").nth(3).click()
    page1.get_by_role("button", name="eth-long-bot report").click()
    page1.get_by_text("Open strategy…").click()
    page1.get_by_role("searchbox", name="Search").fill("btc-long")
    page1.locator("div").filter(has_text=re.compile(r"^btc-long-bot$")).nth(1).click()
    page1.get_by_role("button", name="Close menu").click()
    page1.get_by_role("button", name="Open Pine Editor").click()
    page1.get_by_role("button", name="Open Strategy Tester").click()
    page1.get_by_role("button", name="Open Pine Editor").click()
    page1.locator("#pine-editor-bottom").get_by_role("button").first.click()
    page1.get_by_text("Open script…").click()
    page1.get_by_role("searchbox", name="Search").fill("btc-long")
    page1.locator("div").filter(has_text=re.compile(r"^btc-long-bot$")).nth(1).click()
    page1.get_by_role("button", name="Close menu").click()
    page1.locator("div").filter(has_text=re.compile(r"^Update on chartSave$")).nth(2).click()
    page1.get_by_role("button", name="Open Strategy Tester").click()
    page1.get_by_role("button", name="Open Pine Editor").click()
    page1.get_by_role("code").locator("div").filter(has_text="pyramiding =").nth(4).click()
    page1.locator(".view-lines > div:nth-child(3)").click()
    page1.get_by_role("textbox", name="Editor content;Press Alt+F1").press("ControlOrMeta+a")
    page1.get_by_role("textbox", name="Editor content;Press Alt+F1").press("ControlOrMeta+z")
    page1.get_by_role("code").locator("div").filter(has_text="currentAtrMultiplierTP :=").nth(4).click()
    page1.locator(".view-lines > div:nth-child(19)").click()
    page1.get_by_role("textbox", name="Editor content;Press Alt+F1").press("ControlOrMeta+a")
    page1.get_by_role("textbox", name="Editor content;Press Alt+F1").press("ControlOrMeta+a")
    page1.get_by_role("textbox", name="Editor content;Press Alt+F1").press("ControlOrMeta+a")
    page1.get_by_role("textbox", name="Editor content;Press Alt+F1").press("ControlOrMeta+a")
    page1.get_by_role("textbox", name="Editor content;Press Alt+F1").press("ControlOrMeta+a")
    page1.locator("div").filter(has_text=re.compile(r"^\}$")).first.click(button="right")
    page1.get_by_role("menuitem", name="Paste").click()
    page1.locator("div").filter(has_text=re.compile(r"^Update on chartSave$")).nth(2).click()
    page1.get_by_role("button", name="Open Strategy Tester").click()
    page1.get_by_role("button", name="Mar 10, 2025 — Sep 23,").click()
    page1.get_by_role("menuitemcheckbox", name="Entire history").locator("div").nth(1).click()
    page1.get_by_role("button", name="Open Pine Editor").click()
